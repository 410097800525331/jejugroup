<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <title>회원가입 | 제주그룹</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- 통합 스타일 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="../../styles/globals.css">
    <link rel="stylesheet" href="./signup.css">

    <!-- Daum Postcode API -->
    <script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js" defer></script>

    <!-- Social SDKs -->
    <script src="https://t1.kakaocdn.net/kakao_js_sdk/2.7.0/kakao.min.js"
        integrity="sha384-lXV7Adt7da177WMCp88p5uqcue1NOXSTjE2u5GZQJ7W75E61GAs75fT9u9DMTBv8"
        crossorigin="anonymous"></script>
    <script src="https://static.nid.naver.com/js/naveridlogin_js_sdk_2.0.2.js" charset="utf-8"></script>
</head>

<body class="signup-page">
    <div id="main-header-placeholder"></div>

    <main class="signup-wrapper">
        <div class="signup-container">

            <!-- Progress Indicator -->
            <div class="progress-bar-container">
                <div class="progress-bar-fill" id="progressBar"></div>
            </div>
            <div class="step-indicator" id="stepIndicator">
                <span class="step-dot active" data-step="1">1</span>
                <span class="step-line"></span>
                <span class="step-dot" data-step="2">2</span>
                <span class="step-line"></span>
                <span class="step-dot" data-step="3">3</span>
                <span class="step-line"></span>
                <span class="step-dot" data-step="4"><i class="fa-solid fa-check"></i></span>
            </div>

            <!-- Step Header -->
            <header class="step-header">
                <button type="button" class="btn-back hidden" id="btnBack">
                    <i class="fa-solid fa-arrow-left"></i> <span data-lang="back">이전</span>
                </button>
                <h1 class="step-title" id="stepTitle">약관 동의</h1>
                <p class="step-desc" id="stepDesc">제주그룹 서비스 이용을 위한 약관에 동의해 주세요.</p>
            </header>

            <!-- Forms Wrapper for Sliding Transition -->
            <div class="form-slider-viewport">
                <div class="form-slider-track" id="formSliderTrack">

                    <!-- Step 1: Terms Agreement -->
                    <section class="step-panel" data-step="1">
                        <form id="formStep1" class="step-form">
                            <div class="terms-group">
                                <label class="checkbox-label check-all">
                                    <input type="checkbox" id="termAll">
                                    <span class="checkbox-custom"></span>
                                    <strong>모두 동의합니다.</strong>
                                </label>
                                <hr class="terms-divider">
                                <label class="checkbox-label">
                                    <input type="checkbox" class="term-item req" name="termService" required>
                                    <span class="checkbox-custom"></span>
                                    <span>(필수) 이용약관 동의</span>
                                    <a href="#" class="term-link">보기</a>
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" class="term-item req" name="termPrivacy" required>
                                    <span class="checkbox-custom"></span>
                                    <span>(필수) 이메일 수신 동의 (예약 등 필수 알림)</span>
                                    <a href="#" class="term-link">보기</a>
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" class="term-item opt" name="termMarketing">
                                    <span class="checkbox-custom"></span>
                                    <span>(선택) 마케팅 광고 수신 동의</span>
                                    <a href="#" class="term-link">보기</a>
                                </label>
                            </div>
                            <div class="form-actions">
                                <button type="submit" class="btn-primary btn-next" id="btnNext1" disabled>다음
                                    단계로</button>
                            </div>
                        </form>
                    </section>

                    <!-- Step 2: Verification -->
                    <section class="step-panel" data-step="2">
                        <form id="formStep2" class="step-form">
                            <div class="auth-methods">
                                <button type="button" class="auth-btn pass" data-method="pass">
                                    <i class="fa-solid fa-mobile-screen"></i> 휴대전화 인증 (PASS)
                                </button>
                                <button type="button" class="auth-btn kakao" data-method="kakao">
                                    <i class="fa-solid fa-comment"></i> 카카오 인증
                                </button>
                                <button type="button" class="auth-btn naver" data-method="naver">
                                    <i class="fa-solid fa-n"></i> 네이버 인증
                                </button>
                            </div>
                            <div id="authNotice" class="auth-notice hidden">
                                <i class="fa-solid fa-circle-check"></i> <span id="authMessage">인증이 완료되었습니다.</span>
                            </div>
                            <!-- Hidden inputs to store verified data securely -->
                            <input type="hidden" name="verifiedName" id="verifiedName" value="" required>
                            <input type="hidden" name="verifiedPhone" id="verifiedPhone" value="" required>
                            <input type="hidden" name="verifiedGender" id="verifiedGender" value="" required>
                            <div class="form-actions">
                                <button type="submit" class="btn-primary btn-next" id="btnNext2" disabled>다음
                                    단계로</button>
                            </div>
                        </form>
                    </section>

                    <!-- Step 3: Account Info -->
                    <section class="step-panel" data-step="3">
                        <form id="formStep3" class="step-form">
                            <div class="input-group">
                                <label for="userId">아이디</label>
                                <div class="input-with-button">
                                    <input type="text" id="userId" name="userId" placeholder="영문, 숫자 4~20자" required>
                                    <button type="button" class="btn-secondary btn-verify" id="btnCheckId">중복확인</button>
                                </div>
                                <span class="input-feedback" id="feedbackId"></span>
                            </div>

                            <div class="input-group">
                                <label for="password">비밀번호</label>
                                <input type="password" id="password" name="password" placeholder="영문, 숫자, 특수문자 조합 8자 이상"
                                    required>
                                <span class="input-feedback" id="feedbackPw"></span>
                            </div>

                            <div class="input-group">
                                <label for="passwordConfirm">비밀번호 확인</label>
                                <input type="password" id="passwordConfirm" name="passwordConfirm"
                                    placeholder="비밀번호 다시 입력" required>
                                <span class="input-feedback" id="feedbackPwConfirm"></span>
                            </div>



                            <div class="form-actions">
                                <button type="submit" class="btn-primary btn-next" id="btnNext3" disabled>다음
                                    단계로</button>
                            </div>
                        </form>
                    </section>



                    <!-- Step 4: Success -->
                    <section class="step-panel" data-step="4">
                        <div class="success-content">
                            <div class="success-icon">
                                <i class="fa-solid fa-envelope-circle-check"></i>
                            </div>
                            <h2 class="success-title">환영합니다!</h2>
                            <p class="success-desc">제주그룹의 회원이 되신 것을 축하드립니다.<br>모든 여행을 제주그룹  하나로 즐겨보세요.</p>
                            <div class="success-actions">
                                <a href="./login.html" class="btn-primary">로그인하러 가기</a>
                                <a href="../../index.html" class="btn-secondary">메인으로 이동</a>
                            </div>
                        </div>
                    </section>

                </div>
            </div>
        </div>
    </main>

    <div id="main-footer-placeholder"></div>

    <!-- Core Scripts (Zero Monolith Architecture) -->
    <script src="../../core/constants/lang_data.js"></script>
    <script src="../hotel/main.js"></script>
    <script src="../../components/layout/component_loader.js"></script>

    <script type="module">
        import { initSignupLogic } from './js/signup_main.js';

        document.addEventListener('DOMContentLoaded', () => {
            initSignupLogic();
        });
    </script>
</body>

</html>