<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-lang="pageTitle">제주 그룹 - 모든 여행을 제주그룹 하나로</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="./styles/globals.css">
    <link rel="stylesheet" href="./components/widget/weather.css">

</head>

<body>
    <div id="main-header-placeholder"></div>

    <main class="main-content">
        <section class="section section-1" id="section-1">
            <div class="hero-video-container">
                <iframe class="hero-video"
                    src="https://www.youtube.com/embed/Pc-XikbtLZ8?autoplay=1&mute=1&loop=1&playlist=Pc-XikbtLZ8&controls=0&modestbranding=1"
                    title="제주 여행" loading="lazy"
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                    allowfullscreen>
                </iframe>
                <div class="hero-overlay"></div>
            </div>
            <div class="hero-content">
                <h1 class="hero-title" data-lang="heroTitle">모든 여행의 시작과 끝, 제주그룹이 함께합니다.</h1>
                <p class="hero-subtitle" data-lang="heroSubtitle">하늘, 머물음, 그리고 드라이브. 모든 여행을 제주그룹 한 곳에서.</p>
                <div class="scroll-down">
                    <span data-lang="scrollDown">Scroll Down</span>
                    <div class="scroll-icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </div>
                </div>
            </div>
        </section>

        <section class="section section-2" id="section-2">
            <div class="section-bg"></div>
            <div class="section-content">
                <div class="service-intro left-layout">
                    <div class="service-image">
                        <div class="image-placeholder"></div>
                    </div>
                    <div class="service-info">
                        <div class="service-header">
                            <span class="service-tag" data-lang="airTag">제주에어</span>
                            <h2 data-lang="airTitle">가장 빠르고 편안한 하늘길</h2>
                        </div>
                        <p class="service-description" data-lang="airDesc">제주에어는 합리적인 운임으로 최고의 서비스를 제공합니다...</p>
                        <ul class="service-features">
                            <li><i class="fas fa-check"></i> <span data-lang="airFeature1">합리적인 운임</span></li>
                            <li><i class="fas fa-check"></i> <span data-lang="airFeature2">편안한 객실</span></li>
                            <li><i class="fas fa-check"></i> <span data-lang="airFeature3">친절한 서비스</span></li>
                        </ul>
                        <a href="https://jejuair.netlify.app/"><button class="cta-button" data-lang="airButton">항공권
                                예약하기</button></a>
                    </div>
                </div>
            </div>
        </section>

        <section class="section section-3" id="section-3">
            <div class="section-bg"></div>
            <div class="section-content">
                <div class="service-intro right-layout">
                    <div class="service-image">
                        <div class="image-placeholder"></div>
                    </div>
                    <div class="service-info">
                        <div class="service-header">
                            <span class="service-tag" data-lang="hotelTag">제주호텔</span>
                            <h2 data-lang="hotelTitle">자연을 품은 프리미엄 휴식처</h2>
                        </div>
                        <p class="service-description" data-lang="hotelDesc">제주호텔은 아름다운 자연 속에서 프리미엄한 휴식을 제공합니다...</p>
                        <ul class="service-features">
                            <li><i class="fas fa-check"></i> <span data-lang="hotelFeature1">프리미엄 객실</span></li>
                            <li><i class="fas fa-check"></i> <span data-lang="hotelFeature2">자연 친화적 설계</span></li>
                            <li><i class="fas fa-check"></i> <span data-lang="hotelFeature3">최고의 서비스</span></li>
                        </ul>
                        <a href="#" class="route-link" data-route="SERVICES.STAY.MAIN"><button class="cta-button" data-lang="hotelButton">객실
                                둘러보기</button></a>
                    </div>
                </div>
            </div>
        </section>

        <section class="section section-4" id="section-4">
            <div class="section-bg"></div>
            <div class="section-content">
                <div class="service-intro left-layout">
                    <div class="service-image">
                        <div class="image-placeholder"></div>
                    </div>
                    <div class="service-info">
                        <div class="service-header">
                            <span class="service-tag" data-lang="rentCarTag">제주렌트카</span>
                            <h2 data-lang="rentCarTitle">완벽한 드라이빙을 위한 최신형 차량</h2>
                        </div>
                        <p class="service-description" data-lang="rentCarDesc">제주렌트카는 최신형 차량으로 완벽한 드라이빙 경험을 제공합니다...</p>
                        <ul class="service-features">
                            <li><i class="fas fa-check"></i> <span data-lang="rentCarFeature1">최신형 차량</span></li>
                            <li><i class="fas fa-check"></i> <span data-lang="rentCarFeature2">합리적인 가격</span></li>
                            <li><i class="fas fa-check"></i> <span data-lang="rentCarFeature3">24시간 지원</span></li>
                        </ul>
                        <a href="https://jejurentcar.netlify.app/"><button class="cta-button"
                                data-lang="rentCarButton">차량 예약하기</button></a>
                    </div>
                </div>
            </div>
        </section>

        <section class="section section-5" id="section-5">
            <div class="section-bg"></div>
            <div class="section-content">
                <div class="membership-container">
                    <div class="membership-header">
                        <h2 data-lang="membershipTitle">멤버십</h2>
                        <p data-lang="membershipSubtitle">제주 여행의 모든 순간을 더욱 특별하게</p>

                    </div>

                    <div class="membership-tiers">
                        <div class="membership-tier">
                            <div class="tier-badge silver">SILVER</div>
                            <h3 data-lang="silverTitle">실버 멤버</h3>
                            <p class="tier-price" data-lang="silverPrice">월 <span>29,900</span>원</p>
                            <button class="tier-btn" data-lang="joinButton">가입하기</button>
                            <ul class="tier-benefits">
                                <li data-lang="silverBenefit1">✓ 항공권 5% 할인</li>
                                <li data-lang="silverBenefit2">✓ 호텔 예약 10% 할인</li>
                                <li data-lang="silverBenefit3">✓ 렌트카 기본료 할인</li>
                                <li data-lang="silverBenefit4">✓ 우선 고객 지원</li>
                            </ul>
                        </div>

                        <div class="membership-tier gold-tier">
                            <div class="tier-badge gold">GOLD</div>
                            <div class="tier-popular" data-lang="popular">인기</div>
                            <h3 data-lang="goldTitle">골드 멤버</h3>
                            <p class="tier-price" data-lang="goldPrice">월 <span>49,900</span>원</p>
                            <button class="tier-btn gold-btn" data-lang="joinButton">가입하기</button>
                            <ul class="tier-benefits">
                                <li data-lang="goldBenefit1">✓ 항공권 10% 할인</li>
                                <li data-lang="goldBenefit2">✓ 호텔 예약 15% 할인</li>
                                <li data-lang="goldBenefit3">✓ 렌트카 기본료 20% 할인</li>
                                <li data-lang="goldBenefit4">✓ 무료 공항 라운지</li>
                                <li data-lang="goldBenefit5">✓ 우선 예약 서비스</li>
                            </ul>
                        </div>

                        <div class="membership-tier">
                            <div class="tier-badge platinum">PLATINUM</div>
                            <h3 data-lang="platinumTitle">플래티넘 멤버</h3>
                            <p class="tier-price" data-lang="platinumPrice">월 <span>79,900</span>원</p>
                            <button class="tier-btn" data-lang="joinButton">가입하기</button>
                            <ul class="tier-benefits">
                                <li data-lang="platinumBenefit1">✓ 항공권 15% 할인</li>
                                <li data-lang="platinumBenefit2">✓ 호텔 예약 20% 할인</li>
                                <li data-lang="platinumBenefit3">✓ 렌트카 기본료 30% 할인</li>
                                <li data-lang="platinumBenefit4">✓ VIP 라운지 이용</li>
                                <li data-lang="platinumBenefit5">✓ 전담 컨시어지 서비스</li>
                                <li data-lang="platinumBenefit6">✓ 무료 취소 정책</li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="plan-sub">
                    <p data-lang="membershipNotice1">모든 멤버십은 언제든지 취소할 수 있습니다.</p>
                    <p data-lang="membershipNotice2">추가 혜택과 이벤트는 <strong data-lang="appStrong">제주 그룹 앱</strong>에서 확인하세요.
                    </p>
                </div>
            </div>
        </section>
    </main>

    <div id="main-footer-placeholder"></div>

    <button class="top-btn" id="topBtn">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="18 15 12 9 6 15"></polyline>
        </svg>
    </button>

    <!-- Video Transition Overlay -->
    <div id="video-overlay" class="video-overlay">
        <video id="transition-video" src="assets/videos/takeoff.mp4" muted playsinline preload="auto">
            Your browser does not support the video tag.
        </video>
    </div>

    <!-- Weather Overlay Modal -->
    <div id="weather-overlay" class="weather-overlay">
        <div class="weather-overlay-content">
            <button class="weather-close-btn" id="weather-close-btn">&times;</button>
            <div class="weather-search-bar">
                <input type="text" id="weather-search-input" placeholder="도시 이름을 입력하세요 (예: Seoul, Jeju)">
                <button id="weather-search-btn"><i class="fas fa-search"></i></button>
                <ul id="weather-suggestions" class="weather-suggestions"></ul>
            </div>
            <div id="weather-detail-container">
                <!-- Detailed weather info will be injected here -->
                <div class="weather-loading-large">
                    <i class="fa-solid fa-spinner fa-spin"></i>
                    <p>날씨 정보를 불러오는 중...</p>
                </div>
            </div>
        </div>
    </div>

    <script src="core/constants/lang_data.js"></script>
    <script src="jejustay/pages/hotel/main.js"></script>
    <script src="core/constants/city_data.js"></script>
    <script src="components/widget/weather.js"></script>
    <script type="module" src="core/utils/app_bootstrap.js"></script>

    <!-- Component Loader for index.html -->
    <script src="components/layout/component_loader.js"></script>

    <!-- UI State Reconciliation -> Sync Global Auth State -->
    <script>
        let isAuthSyncInitialized = false;

        function initAuthSync() {
            if (isAuthSyncInitialized) return;
            const loginBtn = document.getElementById('indexLoginBtn');
            const headerUtil = document.getElementById('index-header-util');
            if (!loginBtn || !headerUtil) return; // Header not yet loaded

            isAuthSyncInitialized = true;

            const rawSession = localStorage.getItem('userSession');
            if (!rawSession) return;

            try {
                const sessionData = JSON.parse(rawSession);

                // 1. Mutate login to logout
                if (sessionData) {
                    loginBtn.textContent = '로그아웃';
                    loginBtn.href = '#';
                    loginBtn.removeAttribute('data-lang');
                    loginBtn.addEventListener('click', (e) => {
                        e.preventDefault();
                        e.stopPropagation();
                        localStorage.removeItem('userSession');
                        window.location.reload();
                    });
                }

                // 2. Inject Admin Link if applicable
                if (sessionData.role && sessionData.role.includes('ADMIN')) {
                    const adminLink = document.createElement('a');
                    adminLink.href = '#';
                    adminLink.setAttribute('data-route', 'ADMIN.DASHBOARD');
                    adminLink.className = 'util-link route-link';
                    adminLink.style.color = '#FF5000';
                    adminLink.style.fontWeight = 'bold';
                    adminLink.textContent = '관리자 페이지';

                    const divider = document.createElement('span');
                    divider.className = 'util-divider';
                    divider.textContent = '|';

                    // Insert at front
                    headerUtil.insertBefore(divider, headerUtil.firstChild);
                    headerUtil.insertBefore(adminLink, divider);
                }
            } catch (e) {
                console.error('Session parse exception', e);
            }
        }

        document.addEventListener('DOMContentLoaded', initAuthSync);
        document.addEventListener('mainHeaderLoaded', initAuthSync);
    </script>
</body>

</html>
